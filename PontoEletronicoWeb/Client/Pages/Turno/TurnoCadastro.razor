@page "/Turno/Novo"
@page "/Turno/Nova"

@page "/Turno/Novo/{id:int}"
@page "/Turno/Nova/{id:int}"

@inherits TurnoCadastroBase

<section>

    <MudText Typo="Typo.h6">@NomePagina Turno</MudText>

    <div>
        <EditForm Model="model" OnValidSubmit="SalvarInformacoes">
            <DataAnnotationsValidator />

            <div class="m-2">

                <MudGrid>
                    <MudItem xs="12" sm="12" md="12" lg="12" xl="12">
                        <MudTextField @bind-value="model.Descricao" T="string" Label="Nome" Required="true" RequiredError="O Nome do turno é obrigatório!" />
                        @if (ErroNomeTurno)
                        {
                            <MudText Typo="Typo.caption">
                                <span class="small text-danger">@ErroMsgNomeTurno</span>
                            </MudText>
                        }
                    </MudItem>
                </MudGrid>

                <MudGrid>
                    <MudItem xs="12" sm="12" md="12" lg="6" xl="6">
                        <MudTimePicker PickerVariant="PickerVariant.Dialog" @ref="_picker" Label="With action buttons">
                            <PickerActions>
                                <MudButton Class="mr-auto align-self-start" OnClick="@(() => _picker.Clear())">Clear</MudButton>
                                <MudButton OnClick="@(() => _picker.Close(false))">Cancel</MudButton>
                                <MudButton Color="Color.Primary" OnClick="@(() => _picker.Close())">Ok</MudButton>
                            </PickerActions>
                        </MudTimePicker>
                    </MudItem>
                    <MudItem xs="12" sm="12" md="12" lg="6" xl="6">
                        <MudTimePicker PickerVariant="PickerVariant.Dialog" @ref="_picker" Label="With action buttons">
                            <PickerActions>
                                <MudButton Class="mr-auto align-self-start" OnClick="@(() => _picker.Clear())">Clear</MudButton>
                                <MudButton OnClick="@(() => _picker.Close(false))">Cancel</MudButton>
                                <MudButton Color="Color.Primary" OnClick="@(() => _picker.Close())">Ok</MudButton>
                            </PickerActions>
                        </MudTimePicker>
                    </MudItem>
                </MudGrid>

                @*<div class="row">
                    <div class="col-xs col-sm col-md col-lg col-xl col-xxl">
                        <div class="form-group mb-2">
                            <small><label asp-for="" class="small mb-0">Nome</label></small>
                            <input maxlength="100" @ref="NomeTurnoInput" @bind="model.Descricao" class="form-control form-control-sm" placeholder="Digite o Nome do Funcionário" />
                            <div class="small">
                                <span class="small"><ValidationMessage For="() => model.Descricao" /></span>
                            </div>
                            @if (ErroNomeTurno)
                            {
                                <div class="small">
                                    <span class="small text-danger">@ErroMsgNomeTurno</span>
                                </div>}

                        </div>
                    </div>
                </div>*@

                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md col-lg col-xl col-xxl">
                        <div class="form-group mb-2">
                            <small><label asp-for="" class="small mb-0">Hora de Inicio</label></small>
                            <input type="time" @bind="model.HoraInicio" class="form-control form-control-sm" />
                            <div class="small">
                                <span class="small"><ValidationMessage For="() => model.HoraInicio" /></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg col-xl col-xxl">
                        <div class="form-group mb-2">
                            <small><label asp-for="" class="small mb-0">Hora do Termino</label></small>
                            <input type="time" @bind="model.HoraioFim" class="form-control form-control-sm" />
                            <div class="small">
                                <span class="small"><ValidationMessage For="() => model.HoraioFim" /></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-1">
                    <div class="col-xs col-sm col-md col-lg col-xl col-xxl">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="IdPernoite" @bind="model.PerNoite">
                            <label class="form-check-label small" for="IdPernoite">
                                PerNoite
                            </label>
                        </div>
                    </div>
                </div>

                <div class="row mt-1 mb-3">
                    <div class="col-xs col-sm col-md col-lg col-xl col-xxl d-flex justify-content-end">
                        <a href="/Turno/" class="btn btn-sm btn-outline-warning ms-2">Voltar</a>
                        <button type="submit" class="btn btn-sm btn-success ms-2">Salvar</button>
                    </div>
                </div>

            </div>
        </EditForm>
    </div>
</section>

<!-- Toast -->
@if (SalvoComSucesso)
{
    <div style="position: absolute; top: 60px; right: 5px;">
        <div class="toast fade show @ColorMesagemOperacao align-items-center" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body text-light small">


                    @MensagemOperacao
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" @onclick="() => SalvoComSucesso = false" aria-label="Close"></button>
            </div>
        </div>
    </div>
}
<!-- Fim Toast -->