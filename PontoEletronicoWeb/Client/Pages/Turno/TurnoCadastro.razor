@page "/Turno/Novo"
@page "/Turno/Nova"

@page "/Turno/Novo/{id:int}"
@page "/Turno/Nova/{id:int}"

@inherits TurnoCadastroBase

<section>
    <MessageBox @ref="MessageBoxRef" />

    <MudText Typo="Typo.h6">
        @NomePagina Turno
    </MudText>

    <EditForm Model="model" OnValidSubmit="SalvarInformacoes">
        <DataAnnotationsValidator />

        <MudGrid>
            <MudItem xs="12" sm="12" md="12" lg="12" xl="12">
                <MudTextField T="string"
                              Label="Nome"
                              @bind-Value="model.Descricao"
                              For="@(() => model.Descricao)"
                              Required="true" />
            </MudItem>
        </MudGrid>
        <MudGrid>
            <MudItem xs="12" sm="12" md="4" lg="4" xl="4">
                <div class="mud-input-control mud-input-input-control">
                    <div class="mud-input-control-input-container">
                        <div class="mud-input mud-input-text mud-input-underline mud-shrink">
                            <input type="time" @bind="model.HoraInicio" class="mud-input-slot mud-input-root mud-input-root-text" />
                        </div>
                        <label class="mud-input-label mud-input-label-animated mud-input-label-text mud-input-label-inputcontrol">Hora Início</label>
                    </div>
                </div>
            </MudItem>
            <MudItem xs="12" sm="12" md="4" lg="4" xl="4">
                <div class="mud-input-control mud-input-input-control">
                    <div class="mud-input-control-input-container">
                        <div class="mud-input mud-input-text mud-input-underline mud-shrink">
                            <input type="time" @bind="model.HoraioFim" class="mud-input-slot mud-input-root mud-input-root-text" />
                        </div>
                        <label class="mud-input-label mud-input-label-animated mud-input-label-text mud-input-label-inputcontrol">Hora Fim</label>
                    </div>
                </div>
            </MudItem>
            <MudItem xs="12" sm="12" md="4" lg="4" xl="4">
                <MudCheckBox @bind-Checked="model.PerNoite" Label="PerNoite" Class="mt-2"></MudCheckBox>
            </MudItem>
        </MudGrid>

        <div class="d-flex flex-row-reverse mt-2">
            <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Rounded.Save" Color="Color.Tertiary" Size="Size.Small" ButtonType="ButtonType.Submit">Salvar</MudButton>
            <MudButton OnClick="RetornarTelaConsulta" Variant="Variant.Outlined" StartIcon="@Icons.Material.Rounded.ArrowBackIos" Color="Color.Warning" Size="Size.Small" Class="mr-2">Voltar</MudButton>
        </div>
    </EditForm>
    <MudOverlay @bind-Visible="OverlayDisplay" DarkBackground="true" ZIndex="9999" AutoClose="false">
        <MudButton Disabled="true" Color="Color.Transparent" FullWidth="true"></MudButton>
        <MudAlert Severity="Severity.Normal" Variant="Variant.Filled" NoIcon="true" Elevation="10">
            <MudText Typo="Typo.h5" Style="color: white;">Salvando... </MudText>
            <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="" />
        </MudAlert>
    </MudOverlay>
</section>